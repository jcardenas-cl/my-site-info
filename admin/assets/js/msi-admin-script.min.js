const{__:__,_x:_x,_n:_n,sprintf:sprintf}=wp.i18n,add_new_item_rrss=()=>{const e=document.getElementById("rrss-list"),t=document.createElement("li"),s=document.createElement("div"),n=document.createElement("img"),r=document.createElement("div"),o=document.createElement("input"),l=document.createElement("div"),a=document.createElement("label"),i=document.createElement("input"),c=document.createElement("input"),d=document.createElement("img"),m=document.createElement("div"),u=document.createElement("input"),p=document.createElement("div"),_=document.createElement("input"),g=document.createElement("div"),f=document.createTextNode("X");t.setAttribute("class","rrss-row"),s.setAttribute("class","handler-cnt"),n.setAttribute("src",msi_data.plugins_url+"/my-site-info/admin/assets/img/move-icon.svg"),s.append(n),l.setAttribute("class","rrss-icon-cnt"),d.setAttribute("src",msi_data.plugins_url+"/my-site-info/admin/assets/img/image-icon.svg"),i.setAttribute("type","file"),i.setAttribute("name","rrss_icon[]"),i.setAttribute("class","input-file"),i.onchange=(e=>{change_icon_preview(e)}),c.setAttribute("type","hidden"),c.setAttribute("name","current_icon[]"),c.setAttribute("value",msi_data.plugins_url+"/my-site-info/admin/assets/img/image-icon.svg"),a.append(i),a.append(d),l.append(a),l.append(c),m.setAttribute("class","url-cnt"),u.setAttribute("type","url"),u.setAttribute("placeholder","Url"),u.setAttribute("name","rrss_url[]"),m.append(u),r.setAttribute("class","rrss-font-cnt"),o.setAttribute("name","rrss_font[]"),o.setAttribute("type","text"),o.setAttribute("class","input-font"),o.setAttribute("placeholder",'<i class="icon-rrss"></i>'),r.append(o),p.setAttribute("class","name-cnt"),_.setAttribute("type","text"),_.setAttribute("placeholder","Nombre"),_.setAttribute("name","rrss_name[]"),p.append(_),g.setAttribute("class","close-btn"),g.onclick=(e=>{close_row(e)}),g.append(f),t.append(s),t.append(l),t.append(r),t.append(p),t.append(m),t.append(g),e.append(t)},hide_rrss_row_placeholder=()=>{document.getElementById("empty-rrss-row").classList.add("no-display")},show_rrss_row_placeholder=()=>{document.getElementById("empty-rrss-row").classList.remove("no-display")},msi_is_valid_email_list=e=>{const t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,s=e.split(",");for(email in s)if(!s[email].trim().match(t))return!1;return!0},msi_is_valid_phone_list=e=>{const t=e.split(",");for(phone in t){var s=t[phone];if(s=s.trim(),!/^\d+$/.test(s.substring(1))||!/^\d+$/.test(s.charAt(0))&&"+"!=s.charAt(0))return!1}return!0},msi_check_and_format=()=>{const e=document.getElementById("txt-mobile-phone").value,t=document.getElementById("txt-email").value,s=document.getElementById("txt-phone").value,n=document.getElementById("txt-whatsapp").value;var r=!0,o=!0,l=!0,a=!0;return document.getElementById("txt-mobile-phone").classList.remove("error"),document.getElementById("txt-email").classList.remove("error"),document.getElementById("txt-phone").classList.remove("error"),document.getElementById("txt-whatsapp").classList.remove("error"),""==e.trim()||msi_is_valid_phone_list(e)||(r=!1,document.getElementById("txt-mobile-phone").classList.add("error")),""==t.trim()||msi_is_valid_email_list(t)||(o=!1,document.getElementById("txt-email").classList.add("error")),""==s.trim()||msi_is_valid_phone_list(s)||(l=!1,document.getElementById("txt-phone").classList.add("error")),""==n||msi_is_valid_phone_list(n)||(a=!1,document.getElementById("txt-whatsapp").classList.add("error")),!!(r&&o&&l&&a)||(alert(__("Favor, revise los campos marcados","my_site_info")),document.body.scrollTop=0,document.documentElement.scrollTop=0,!1)},close_row=e=>{var t=e.target||e.srcElement;t.closest("li").remove();const s=document.querySelectorAll(".rrss-row").length;0==s&&show_rrss_row_placeholder()},close_fonts_row=e=>{var t=e.target||e.srcElement;t.closest("li").remove()},change_icon_preview=e=>{var t=e.target||e.srcElement,s=t.parentNode.querySelector("img");const[n]=t.files;n&&(s.src=URL.createObjectURL(n))},close_row_buttons=document.querySelectorAll(".close-btn");close_row_buttons.forEach(e=>{e.addEventListener("click",function(e){close_row(e)})});const close_font_row_buttons=document.querySelectorAll(".close-font-btn");close_font_row_buttons.forEach(e=>{e.addEventListener("click",function(e){close_fonts_row(e)})});const rrss_icon_files=document.querySelectorAll(".input-file");rrss_icon_files.forEach(e=>{e.addEventListener("change",function(e){change_icon_preview(e)})});const add_rrss_button=document.getElementById("btn-add-social-network");add_rrss_button.addEventListener("click",function(e){add_new_item_rrss(),slist(document.getElementById("rrss-list"))}),window.addEventListener("DOMContentLoaded",()=>{slist(document.getElementById("rrss-list"))});const slist=e=>{e.classList.add("slist");let t=e.getElementsByTagName("li"),s=null;for(let e of t)"false"!=e.getAttribute("draggable")&&(e.draggable=!0),e.ondragstart=(n=>{s=e;for(let e of t)e!=s&&e.classList.add("hint")}),e.ondragenter=(t=>{e!=s&&e.classList.add("active")}),e.ondragleave=(t=>{e.contains(t.fromElement)||e.classList.remove("active")}),e.ondragend=(()=>{for(let e of t)e.classList.remove("hint"),e.classList.remove("active")}),e.ondragover=(e=>{e.preventDefault()}),e.ondrop=(n=>{if(n.preventDefault(),e!=s&&"true"==e.getAttribute("draggable")){let n=0,r=0;for(let o=0;o<t.length;o++)s==t[o]&&(n=o),e==t[o]&&(r=o);n<r?e.parentNode.insertBefore(s,e.nextSibling):e.parentNode.insertBefore(s,e)}})},rrss_mode_selection=document.querySelector(".rrss-mode-selection");rrss_mode_selection.addEventListener("change",function(e){const t=e.target.value;"rrss-mode-fonts"==t?(document.getElementById("fonts-urls").classList.remove("no-display"),document.getElementById("rrss-list").classList.replace("mode-images","mode-fonts")):(document.getElementById("fonts-urls").classList.add("no-display"),document.getElementById("rrss-list").classList.replace("mode-fonts","mode-images"))});const add_font=document.getElementById("add-font-button");add_font.addEventListener("click",function(e){const t=document.createElement("li"),s=document.createElement("div"),n=document.createElement("input"),r=document.createElement("div"),o=document.createTextNode("X"),l=document.createElement("div"),a=document.createTextNode(__("Aquí se mostrará la url de la fuente una vez cargada","my_site_info")),i=document.createElement("input");t.classList.add("font-row"),s.classList.add("file"),n.setAttribute("type","file"),n.setAttribute("name","font_file[]"),r.classList.add("close-font-btn"),r.onclick=(e=>{close_fonts_row(e)}),i.setAttribute("type","hidden"),i.setAttribute("name","current_font_url[]"),s.append(n),r.append(o),l.append(a),l.append(i),t.append(s),t.append(r),t.append(l),document.getElementById("fonts-list").append(t)});