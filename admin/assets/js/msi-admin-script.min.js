const{__:__,_x:_x,_n:_n,sprintf:sprintf}=wp.i18n,add_new_item_rrss=()=>{const e=document.getElementById("rrss-list"),t=document.createElement("li"),s=document.createElement("div"),n=document.createElement("img"),r=document.createElement("div"),o=document.createElement("label"),l=document.createElement("input"),i=document.createElement("input"),a=document.createElement("img"),d=document.createElement("div"),c=document.createElement("input"),m=document.createElement("div"),u=document.createElement("input"),_=document.createElement("div"),p=document.createTextNode("X");t.setAttribute("class","rrss-row"),s.setAttribute("class","handler-cnt"),n.setAttribute("src",msi_data.plugins_url+"/my-site-info/admin/assets/img/move-icon.svg"),s.append(n),r.setAttribute("class","rrss-icon-cnt"),a.setAttribute("src",msi_data.plugins_url+"/my-site-info/admin/assets/img/image-icon.svg"),l.setAttribute("type","file"),l.setAttribute("name","rrss_icon[]"),l.setAttribute("class","input-file"),l.onchange=(e=>{const[t]=l.files;t&&(a.src=URL.createObjectURL(t))}),i.setAttribute("type","hidden"),i.setAttribute("name","current_icon[]"),i.setAttribute("value",msi_data.plugins_url+"/my-site-info/admin/assets/img/image-icon.svg"),o.append(l),o.append(a),r.append(o),r.append(i),d.setAttribute("class","url-cnt"),c.setAttribute("type","url"),c.setAttribute("placeholder","Url"),c.setAttribute("name","rrss_url[]"),d.append(c),m.setAttribute("class","name-cnt"),u.setAttribute("type","text"),u.setAttribute("placeholder","Nombre"),u.setAttribute("name","rrss_name[]"),m.append(u),_.setAttribute("class","close-btn"),_.onclick=(e=>{close_row(e)}),_.append(p),t.append(s),t.append(r),t.append(m),t.append(d),t.append(_),e.append(t)},hide_rrss_row_placeholder=()=>{document.getElementById("empty-rrss-row").classList.add("no-display")},show_rrss_row_placeholder=()=>{document.getElementById("empty-rrss-row").classList.remove("no-display")},msi_is_valid_email_list=e=>{const t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,s=e.split(",");for(email in s)if(!s[email].trim().match(t))return!1;return!0},msi_is_valid_phone_list=e=>{const t=e.split(",");for(phone in t){var s=t[phone];if(s=s.trim(),!/^\d+$/.test(s.substring(1))||!/^\d+$/.test(s.charAt(0))&&"+"!=s.charAt(0))return!1}return!0},msi_check_and_format=()=>{const e=document.getElementById("txt-mobile-phone").value,t=document.getElementById("txt-email").value,s=document.getElementById("txt-phone").value,n=document.getElementById("txt-whatsapp").value;var r=!0,o=!0,l=!0,i=!0;return""==e.trim()||msi_is_valid_phone_list(e)||(r=!1,document.getElementById("txt-mobile-phone").classList.add("error")),""==t.trim()||msi_is_valid_email_list(t)||(o=!1,document.getElementById("txt-email").classList.add("error")),""==s.trim()||msi_is_valid_phone_list(s)||(l=!1,document.getElementById("txt-phone").classList.add("error")),""==n||msi_is_valid_phone_list(n)||(i=!1,document.getElementById("txt-whatsapp").classList.add("error")),!!(r&&o&&l&&i)||(alert(__("Favor, revise los campos marcados","my_site_info")),document.body.scrollTop=0,document.documentElement.scrollTop=0,!1)},close_row=e=>{var t=e.target||e.srcElement;t.closest("li").remove();const s=document.querySelectorAll(".rrss-row").length;0==s&&show_rrss_row_placeholder()},close_row_buttons=document.querySelectorAll(".close-btn");close_row_buttons.forEach(e=>{e.addEventListener("click",function(e){close_row(e)})});const add_rrss_button=document.getElementById("btn-add-social-network");add_rrss_button.addEventListener("click",function(e){add_new_item_rrss();const t=document.querySelectorAll(".rrss-row").length;t>0&&hide_rrss_row_placeholder(),slist(document.getElementById("rrss-list"))}),window.addEventListener("DOMContentLoaded",()=>{slist(document.getElementById("rrss-list"))});const slist=e=>{e.classList.add("slist");let t=e.getElementsByTagName("li"),s=null;for(let e of t)e.draggable=!0,e.ondragstart=(n=>{s=e;for(let e of t)e!=s&&e.classList.add("hint")}),e.ondragenter=(t=>{e!=s&&e.classList.add("active")}),e.ondragleave=(t=>{e.contains(t.fromElement)||e.classList.remove("active")}),e.ondragend=(()=>{for(let e of t)e.classList.remove("hint"),e.classList.remove("active")}),e.ondragover=(e=>{e.preventDefault()}),e.ondrop=(n=>{if(n.preventDefault(),e!=s){let n=0,r=0;for(let o=0;o<t.length;o++)s==t[o]&&(n=o),e==t[o]&&(r=o);n<r?e.parentNode.insertBefore(s,e.nextSibling):e.parentNode.insertBefore(s,e)}})},rrss_mode_selection=document.querySelector(".rrss-mode-selection");rrss_mode_selection.addEventListener("change",function(e){const t=e.target.value;"rrss-mode-fonts"==t?document.getElementById("fonts-urls").classList.remove("no-display"):document.getElementById("fonts-urls").classList.add("no-display")});